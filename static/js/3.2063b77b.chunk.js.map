{"version":3,"sources":["hoc/withAuthRedirect.js","components/Profile/profile.module.css","components/Profile/Posts/posts.module.css","components/Profile/Posts/Post/post.module.css","components/Profile/profileStatus.jsx","components/Profile/Posts/Post/post.jsx","components/Profile/Posts/posts.jsx","components/Profile/Posts/postsContainer.jsx","components/Profile/profileStatusWithHooks.jsx","components/Profile/profile.jsx","components/Profile/profileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","Post","className","classes","post","table","rowImg","rowSpan","src","postImg","alt","img","fullname","date","message","like","likesCount","maxLength30","maxLengthCreator","Posts","memo","profilePage","postElements","posts","reverse","map","p","display","block","box","accountImg","fullName","href","link","AddPostFormRedux","onSubmit","values","addPost","newPostText","reduxForm","form","handleSubmit","htmlFor","text","Field","component","Textarea","name","placeholder","validate","required","btn","dispatch","addPostCreator","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","Profile","profile","photos","large","userPhoto","ProfileContainer","userId","match","params","authorizedUserId","history","push","getUserProfile","getStatus","compose","withRouter"],"mappings":"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","file":"static/js/3.2063b77b.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to=\"/login\"/>;\r\n\r\n            return <Component {...this.props}/>;\r\n        }\r\n    }\r\n\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent;\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"profile_profile__2mxsO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"posts_dialogs__1b8nv\",\"users\":\"posts_users__2TLan\",\"link\":\"posts_link__eWgB0\",\"active\":\"posts_active__2BSMB\",\"account\":\"posts_account__2-c7X\",\"box\":\"posts_box__2ajkV\",\"img\":\"posts_img__K7ScL\",\"btn\":\"posts_btn__1MN_d\",\"messageArea\":\"posts_messageArea__bc9iH\",\"message\":\"posts_message__ttYGy\",\"form\":\"posts_form__28TZd\",\"block\":\"posts_block__3Sz9p\",\"display\":\"posts_display__1CV_8\",\"text\":\"posts_text__BWmt8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"post_table__30vOD\",\"rowImg\":\"post_rowImg__fyPEp\",\"fullname\":\"post_fullname__2F-ac\",\"date\":\"post_date__2Ni5O\",\"message\":\"post_message__1lpGE\",\"img\":\"post_img__3pTiq\",\"post\":\"post_post__2mN50\",\"like\":\"post_like__huG1c\"};","import React from \"react\";\r\nimport './profile.module.css';\r\n\r\nclass ProfileStatus extends React.Component {\r\n\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    };\r\n\r\n    activateEditMode = () =>{\r\n        this.setState({\r\n            editMode: true\r\n        })\r\n    };\r\n    deactivateEditMode = () => {\r\n        this.setState({\r\n            editMode: false\r\n        });\r\n        this.props.updateStatus(this.state.status)\r\n    };\r\n    onStatusChange = (e) => {\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        })\r\n    };\r\n    componentDidUpdate(prevProps, prevState) {\r\n       if (prevProps.status !== this.props.status){\r\n           this.setState({\r\n               status: this.props.status\r\n           })\r\n       }\r\n\r\n    }\r\n\r\n    render() {\r\n        return <div>\r\n            {!this.state.editMode &&\r\n                <div>\r\n                    <span onDoubleClick={this.activateEditMode }>{this.props.status || \"No status\"}</span>\r\n                </div>\r\n            }\r\n            {this.state.editMode &&\r\n                <div>\r\n                    <input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deactivateEditMode} value={this.state.status}/>\r\n                </div>\r\n            }\r\n\r\n\r\n        </div>\r\n    }\r\n};\r\n\r\nexport default ProfileStatus;","import React from \"react\";\r\nimport classes from './post.module.css';\r\nimport postImg from '../../../../assets/images/default.png';\r\n\r\nconst Post = (props) => {\r\n    return  (\r\n                <div className={classes.post}>\r\n                    <table className={classes.table}>\r\n                        <tr>\r\n                            <td className={classes.rowImg} rowSpan='3'><img src={postImg} alt=\"\" className={classes.img}/></td>\r\n                            <td className={classes.fullname}>Name</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td className={classes.date}>0000-00-00 00:00:00</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td className={classes.message}>{props.message}</td>\r\n                        </tr>\r\n                    </table>\r\n                    <span className={classes.like}>like {props.likesCount}</span>\r\n                </div>\r\n    )\r\n};\r\n\r\nexport default Post;","import React from \"react\";\r\nimport classes from './posts.module.css';\r\nimport accountImg from \"../../../assets/images/default.png\";\r\nimport Post from \"./Post/post\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../Common/FormsControls/formsControls\";\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\n\r\nconst Posts = React.memo(props => {\r\n    let state = props.profilePage;\r\n    let postElements = [...state.posts].reverse().map(p => <Post message={p.message} likesCount={p.likesCount}/>);\r\n\r\n\r\n    let addNewPost = (values) => {\r\n        props.addPost(values.newPostText);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.posts}>\r\n            <div className={classes.display}>\r\n                {postElements}\r\n            </div>\r\n            <div className={classes.block}>\r\n                <div className={classes.box}>\r\n                    <img src={accountImg} alt=\"\" className={classes.img}/>\r\n                    <span className={classes.fullName}><a href=\"/#\" className={classes.link}>Name</a></span>\r\n                </div>\r\n                <AddPostFormRedux onSubmit={addNewPost}/>\r\n            </div>\r\n        </div>\r\n    )\r\n});\r\n\r\nconst AddPostForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.handleSubmit} className={classes.form}>\r\n            <label htmlFor=\"\">\r\n                <span className={classes.text}>Մեկնաբանություն</span>\r\n                <Field component={Textarea} name=\"newPostText\" placeholder='Գրեք Ձեր հաղորդագրությունը' className={classes.message} validate={[required, maxLength30 ]}/>\r\n            </label>\r\n            <button className={classes.btn}>Ուղարկել</button>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst AddPostFormRedux = reduxForm({\r\n    form: \"profileAddPostForm\"\r\n})(AddPostForm);\r\n\r\nexport default Posts;","import React from \"react\";\r\nimport {addPostCreator} from \"../../../redux/profile-reducer\";\r\nimport Posts from \"./posts\";\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profilePage: state.profilePage,\r\n        newPostText: state.profilePage.newPostText,\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {\r\n            dispatch(addPostCreator(newPostText))\r\n        }\r\n    }\r\n};\r\n\r\n\r\nexport default\r\n    connect(mapStateToProps, mapDispatchToProps)(Posts);","import React, {useEffect, useState} from \"react\";\r\nimport './profile.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let[status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    };\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status)\r\n    };\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    };\r\n\r\n    return <div>\r\n        {!editMode &&\r\n        <div>\r\n            <span onDoubleClick={activateEditMode }>{props.status || \"No status\"}</span>\r\n        </div>\r\n        }\r\n        {editMode &&\r\n        <div>\r\n            <input onChange={onStatusChange} value={status} autoFocus={true} onBlur={deactivateEditMode}/>\r\n        </div>\r\n        }\r\n\r\n\r\n    </div>\r\n\r\n};\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\nimport classes from './profile.module.css';\r\nimport Preloader from \"../Common/Preloader/preloader\";\r\nimport userPhoto from \"../../assets/images/default.png\"\r\nimport {Redirect} from \"react-router-dom\";\r\nimport ProfileStatus from \"./profileStatus\";\r\nimport PostsContainer from \"./Posts/postsContainer\";\r\nimport ProfileStatusWithHooks from \"./profileStatusWithHooks\";\r\n\r\n\r\nconst Profile = ({profile, status, updateStatus}) => {\r\n    if (!profile){\r\n        return <Preloader/>\r\n    }\r\n\r\n\r\n    return <div className={classes.profile}>\r\n        <div>\r\n            <h2>{profile.fullName}</h2>\r\n            <ProfileStatusWithHooks status={\"Hello, my friends\"} status={status} updateStatus={updateStatus}/>\r\n            <div><img src={profile.photos.large != null ? profile.photos.large : userPhoto} alt=\"\"/></div>\r\n        </div>\r\n        <PostsContainer/>\r\n    </div>\r\n\r\n};\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {usersAPI} from \"../../api/api\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component{\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId){\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId){\r\n                this.props.history.push(\"/Login\");\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus}/>\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.auth.userId,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\n\r\nexport default  compose(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\r\n    withRouter,\r\n    // withAuthRedirect\r\n)(ProfileContainer);"],"sourceRoot":""}